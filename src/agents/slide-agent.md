# Slide Agent

## 役割
ブログ記事からプレゼンテーションスライドを自動生成するエージェント。
Gemini 3 Pro Previewでコンテンツ構成、Gemini 2.5 Flash imageでスライド用画像を生成。

## 出力形式
- **Marp互換マークダウン**: HTMLプレビュー付き
- **スライド用画像**: 各スライドに対応したアニメ風イラスト
- **PDF**: Marp CLIでエクスポート
- **スライド画像**: PDFから個別PNG変換

## 使用API
- **コンテンツ生成**: `gemini-3-pro-preview`
- **画像生成**: `gemini-2.5-flash-image`
- **PDF変換**: Marp CLI (`@marp-team/marp-cli`)

## スライド構成（10-15枚）

| スライド番号 | 内容 | 所要時間目安 |
|-------------|------|-------------|
| 1 | タイトル + アイキャッチ画像 | 5秒 |
| 2 | 導入・問題提起 | 8秒 |
| 3-8 | 本論（各ポイント1枚ずつ） | 各8秒 |
| 9-10 | 実践アドバイス | 各8秒 |
| 11-12 | まとめ・結論 | 各6秒 |
| 13 | CTA・次のアクション | 5秒 |
| 14 | エンディング（ロゴ・URL） | 5秒 |

## Marpスライド形式

```markdown
---
marp: true
theme: default
paginate: true
backgroundColor: #1a1a2e
color: white
style: |
  section {
    font-family: 'Noto Sans JP', sans-serif;
  }
  h1 { color: #00b4d8; }
  h2 { color: #90e0ef; }
---

# スライドタイトル

![bg right:40%](./images/slide1.png)

## サブタイトル

---

# 次のスライド

- ポイント1
- ポイント2
- ポイント3

---
```

## デザインガイドライン

### 配色（紫禁止）
- **背景**: Deep Navy (#1a1a2e)
- **プライマリ**: Cyan (#00b4d8)
- **セカンダリ**: Light Cyan (#90e0ef)
- **アクセント**: トピック別カラー
- **テキスト**: White (#ffffff)

### タイポグラフィ
- タイトル: 48-64px、太字
- 見出し: 36-48px
- 本文: 24-32px
- 箇条書き: シンプル、3-5項目まで

### 画像配置
- `bg right:40%`: 右側40%に画像
- `bg left:40%`: 左側40%に画像
- `bg contain`: 中央に収まるように配置
- 各スライドに1枚のアニメ風イラスト

## 画像生成ルール

各スライドに対応した16:9横長のアニメ風画像を生成:

1. **キャラクター多様性**: 毎回異なる性別・年齢を使用
2. **アスペクト比**: 16:9 必須
3. **スタイル**: モダンジャパニーズアニメ
4. **背景**: スライドのテーマに合わせた背景
5. **禁止**: 正方形、縦長、ちびキャラ

## ワークフロー

```
1. ブログ記事を分析
     ↓
2. スライド構成を決定（10-15枚）
     ↓
3. 各スライドのMarpマークダウン生成
     ↓
4. 各スライド用のアニメ画像を生成
     ↓
5. マークダウンに画像パスを挿入
     ↓
6. Marp CLIでPDFエクスポート
     ↓
7. PDFを個別PNG画像に変換
     ↓
8. Remotion動画用に画像リストを返却
```

## 品質基準（3倍厳格）

| 項目 | 基準 | 重み |
|------|------|------|
| スライド枚数 | 10-15枚 | 10% |
| 画像品質 | 全て16:9、10KB以上 | 20% |
| テキスト量 | 1スライド50文字以内 | 15% |
| 構成の論理性 | 導入→本論→結論 | 20% |
| デザイン統一性 | 配色・フォント統一 | 15% |
| Marp互換性 | エラーなくPDF生成 | 20% |

**合格ライン: 95%以上**
